{"version":3,"file":"static/js/474.1616b8bb.chunk.js","mappings":"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","sources":["pages/ShopsPage/Shops/Shops.styled.js","pages/ShopsPage/Shops/Shops.jsx","pages/ShopsPage/GoodsList/GoodsItem/GoodsItem.styled.js","pages/ShopsPage/GoodsList/GoodsItem/GoodsItem.jsx","pages/ShopsPage/GoodsList/GoodsList.styled.js","pages/ShopsPage/GoodsList/GoodsList.jsx","pages/ShopsPage/ShopsPage.styled.js","pages/ShopsPage/ShopsPage.jsx","redux/selectors.js"],"sourcesContent":["import styled from 'styled-components';\nimport {\n  accentColor,\n  mainColor,\n  additionalColor,\n} from 'shared/constants/colors';\n\nexport const Wrapper = styled.div`\n  width: 300px;\n  display: flex;\n  justify-content: center;\n  padding-top: 30px;\n`;\n\nexport const List = styled.ul`\n  display: flex;\n  flex-direction: column;\n  gap: 18px;\n`;\n\nexport const StyledButton = styled.button`\n  width: 200px;\n  padding-top: 16px;\n  padding-bottom: 16px;\n  font-family: inherit;\n  font-size: 20px;\n  color: ${({ shop, currentShop }) =>\n    shop === currentShop ? mainColor : '#2a2a2a'};\n  background-color: ${({ shop, currentShop }) =>\n    shop === currentShop ? accentColor : additionalColor};\n  border-radius: 16px;\n  border: none;\n`;\n","import { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport { toast } from 'react-hot-toast';\n\nimport { getListOfShops } from 'shared/services/api';\n\nimport { setCurrentShopId } from 'redux/slice';\nimport { selectCurrentShopId, selectCart } from 'redux/selectors';\n\nimport { List, StyledButton, Wrapper } from './Shops.styled';\n\nconst Shops = ({ setError }) => {\n  const dispatch = useDispatch();\n\n  const [shopsList, setShopsList] = useState([]);\n\n  const currentShopId = useSelector(selectCurrentShopId);\n  const cart = useSelector(selectCart);\n\n  useEffect(() => {\n    const fetchShops = async () => {\n      try {\n        setError(null);\n        const result = await getListOfShops();\n        setShopsList(result);\n      } catch (error) {\n        setError(error.message);\n      }\n    };\n\n    fetchShops();\n  }, [setError]);\n\n  const handleClick = id => {\n    if (id !== currentShopId && cart.length > 0) {\n      toast('Complete the purchase in the current store first', {\n        icon: '',\n        style: {\n          borderRadius: '10px',\n          background: '#723333',\n          color: '#FFF',\n        },\n      });\n      return;\n    }\n    dispatch(setCurrentShopId(id));\n  };\n\n  return (\n    <>\n      {shopsList.length > 0 && (\n        <Wrapper>\n          <List>\n            {shopsList.map(({ name, _id: id }) => (\n              <li key={id}>\n                <StyledButton\n                  currentShop={currentShopId}\n                  shop={id}\n                  onClick={() => handleClick(id)}\n                >\n                  {name}\n                </StyledButton>\n              </li>\n            ))}\n          </List>\n        </Wrapper>\n      )}\n    </>\n  );\n};\n\nexport default Shops;\n","import styled from 'styled-components';\nimport { accentColor } from 'shared/constants/colors';\n\nexport const Item = styled.li`\n  padding: 12px;\n  width: 355px;\n  border-radius: 20px;\n  box-shadow: -1px 3px 22px -4px rgba(42, 42, 42, 0.63);\n  position: relative;\n`;\n\nexport const StyledP = styled.p`\n  width: 85%;\n  text-align: center;\n  font-size: 24px;\n  font-weight: 500;\n  margin: 14px auto 66px;\n`;\n\nexport const Text = styled.p`\n  position: absolute;\n  left: 24px;\n  bottom: 25px;\n  font-size: 20px;\n  color: #2a2a2a;\n`;\n\nexport const Button = styled.button`\n  position: absolute;\n  right: 8px;\n  bottom: 8px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 12px 16px;\n  background-color: transparent;\n  border-radius: 15px;\n  border: 3px solid transparent;\n  font-size: 18px;\n  color: #2a2a2a;\n  transition: border 250ms linear;\n\n  &:hover {\n    border: 3px solid ${accentColor};\n  }\n`;\n","import { useDispatch, useSelector } from 'react-redux';\nimport { GiShoppingCart } from 'react-icons/gi';\n\nimport { addItemToCart, removeItemFromCart } from 'redux/slice';\nimport { selectCart } from 'redux/selectors';\n\nimport defaultImage from 'shared/images/burger.jpeg';\n\nimport { Item, Button, StyledP, Text } from './GoodsItem.styled';\n\nconst GoodsItem = ({ good }) => {\n  const dispatch = useDispatch();\n  const cart = useSelector(selectCart);\n  const inCart = cart.find(productFromCart => productFromCart._id === good._id);\n\n  return (\n    <Item>\n      <img src={good.imageUrl || defaultImage} alt={good.name} />\n      <StyledP>{good.name}</StyledP>\n      <Text>{good.price}â‚´</Text>\n      {!inCart && (\n        <Button\n          type=\"button\"\n          onClick={() => {\n            dispatch(addItemToCart(good));\n          }}\n        >\n          Add to <GiShoppingCart size={26} />\n        </Button>\n      )}\n      {inCart && (\n        <Button\n          type=\"button\"\n          onClick={() => {\n            dispatch(removeItemFromCart(good._id));\n          }}\n        >\n          Remove from <GiShoppingCart size={26} />\n        </Button>\n      )}\n    </Item>\n  );\n};\n\nexport default GoodsItem;\n","import styled from 'styled-components';\n\nexport const Wrapper = styled.div`\n  width: 850px;\n  padding: 0 40px;\n`;\n\nexport const List = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 30px 60px;\n  padding-bottom: 30px;\n`;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { toast } from 'react-hot-toast';\n\nimport { getGoodsFromShop } from 'shared/services/api';\n\nimport { selectCurrentShopId } from 'redux/selectors';\n\nimport GoodsItem from './GoodsItem/GoodsItem';\nimport Loader from 'shared/components/Loader/Loader';\n\nimport { Wrapper, List } from './GoodsList.styled';\n\nconst GoodsList = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [goods, setGoods] = useState([]);\n  const [error, setError] = useState(null);\n\n  const currentShopId = useSelector(selectCurrentShopId);\n\n  useEffect(() => {\n    const fetchGoods = async shop => {\n      if (!currentShopId) return;\n      try {\n        setIsLoading(true);\n        setError(null);\n        const result = await getGoodsFromShop(shop);\n        setGoods(result);\n      } catch (error) {\n        setError(error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchGoods(currentShopId);\n  }, [currentShopId]);\n\n  return (\n    <Wrapper>\n      {isLoading && <Loader />}\n      {!isLoading && (\n        <List>\n          {goods.map(good => {\n            return <GoodsItem key={good._id} good={good} />;\n          })}\n        </List>\n      )}\n      {error &&\n        toast('Complete the purchase in the current store first', {\n          icon: '',\n          style: {\n            borderRadius: '10px',\n            background: '#723333',\n            color: '#FFF',\n          },\n        })}\n    </Wrapper>\n  );\n};\n\nexport default GoodsList;\n","import styled from 'styled-components';\n\nexport const FlexWrapper = styled.div`\n  padding-top: 32px;\n  padding-bottom: 16px;\n  display: flex;\n  gap: 18px;\n`;\n","import { useState } from 'react';\n\nimport Shops from './Shops/Shops';\nimport GoodsList from './GoodsList/GoodsList';\n\nimport { Container } from 'shared/components/Container/Container.styled';\nimport { FlexWrapper } from './ShopsPage.styled';\n\nconst ShopsPage = () => {\n  const [error, setError] = useState(null);\n\n  return (\n    <Container>\n      {!error && (\n        <FlexWrapper>\n          <Shops setError={setError} />\n          <GoodsList />\n        </FlexWrapper>\n      )}\n      {error && <p>Something went wrong ({error}). Please reload the page.</p>}\n    </Container>\n  );\n};\n\nexport default ShopsPage;\n","export const selectCurrentShopId = state => state.currentShopId;\nexport const selectCart = state => state.cart;\nexport const selectHistory = state => state.history;\nexport const selectHistoryLoading = state => state.isHistoryLoading;\n"],"names":["Wrapper","styled","List","StyledButton","shop","currentShop","mainColor","accentColor","additionalColor","setError","dispatch","useDispatch","useState","shopsList","setShopsList","currentShopId","useSelector","selectCurrentShopId","cart","selectCart","useEffect","fetchShops","getListOfShops","result","message","length","map","name","id","_id","onClick","toast","icon","style","borderRadius","background","color","setCurrentShopId","handleClick","Item","StyledP","Text","Button","good","inCart","find","productFromCart","src","imageUrl","defaultImage","alt","price","type","addItemToCart","size","removeItemFromCart","isLoading","setIsLoading","goods","setGoods","error","fetchGoods","getGoodsFromShop","Loader","FlexWrapper","state","selectHistory","history","selectHistoryLoading","isHistoryLoading"],"sourceRoot":""}